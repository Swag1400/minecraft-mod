package me.comu.client.module.impl.toggle.exploits;

import me.comu.api.event.Listener;
import me.comu.client.events.MotionUpdateEvent;
import me.comu.client.module.ModuleType;
import me.comu.client.module.ToggleableModule;
import net.minecraft.network.play.client.C03PacketPlayer;

public final class Scorch extends ToggleableModule
{
    public Scorch()
    {
        super("Scorch", new String[] {"scorch", "burn"}, 0xFFFF2E2E, ModuleType.EXPLOITS);
        this.listeners.add(new Listener<MotionUpdateEvent>("scorch_motion_update_listener")
        {
            @Override
            public void call(MotionUpdateEvent event)
            {
                switch (event.getTime())
                {
                    case BEFORE:
                        if (!minecraft.theWorld.getEntitiesWithinAABBExcludingEntity(minecraft.thePlayer, minecraft.thePlayer.getEntityBoundingBox()).isEmpty() && minecraft.thePlayer.onGround)
                        {
                            for (int index = 0; index < 100; index++)
                            {
                                minecraft.func_175102_a().addToSendQueue(new C03PacketPlayer.C04PacketPlayerPosition(minecraft.thePlayer.posX, minecraft.thePlayer.posY + 0.000000001D, minecraft.thePlayer.posZ, false));
                                minecraft.func_175102_a().addToSendQueue(new C03PacketPlayer.C04PacketPlayerPosition(minecraft.thePlayer.posX, minecraft.thePlayer.posY, minecraft.thePlayer.posZ, false));
                            }
                        }

                        break;
                }
            }
        });
    }
}
