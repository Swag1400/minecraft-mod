package me.comu.client.module.impl.toggle.exploits;

import me.comu.api.event.Listener;
import me.comu.api.minecraft.helper.PlayerHelper;
import me.comu.client.events.PacketEvent;
import me.comu.client.events.PotionDecrementEvent;
import me.comu.client.module.ModuleType;
import me.comu.client.module.ToggleableModule;
import net.minecraft.network.play.client.C03PacketPlayer;
import net.minecraft.potion.Potion;

public final class PotionSaver2 extends ToggleableModule
{
private final Potion[] potions = new Potion[]{Potion.absorption, Potion.damageBoost, Potion.moveSpeed, Potion.digSpeed, Potion.fireResistance, Potion.invisibility, Potion.jump, Potion.regeneration, Potion.resistance, Potion.waterBreathing, Potion.saturation, Potion.healthBoost};

    public PotionSaver2()
    {
        super("PotionSaver", new String[] {"potionsaver", "ps"}, 0xFF4BCFE3, ModuleType.EXPLOITS);
        this.listeners.add(new Listener<PacketEvent>("potion_saver_packet_listener")
        {
            @Override
            public void call(PacketEvent event)
            {
                if (event.getPacket() instanceof C03PacketPlayer)
                {
                    if (!PlayerHelper.isMoving())
                    {
             //                 for (Potion potion : potions) {
               //         if (potion != null && minecraft.thePlayer.isPotionActive(potion)) {
                 //       event.setCanceled(true);
                   //     }
                     //   }
                    }
                }
            }
        });
        this.listeners.add(new Listener<PotionDecrementEvent>("potion_saver_potion_deincrement_listener")
        {
            @Override
            public void call(PotionDecrementEvent event)
            {
                if (!PlayerHelper.isMoving() && minecraft.thePlayer.getActivePotionEffects().size() > 0)
                {
                    event.setCanceled(true);
                }
            }
        });
    }
}
